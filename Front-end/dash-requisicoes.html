<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DASHBOARD | Mooca Solidária</title>
    <link rel="shortcut icon" href="./assets/imgs/favicon-tfg.png" type="image/x-icon" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap"
        rel="stylesheet" />
    <link rel="stylesheet" href="./css/dashboard.css" />
    <link rel="stylesheet" href="./css/all.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="./js/functions.js"></script>
</head>

<body>

    <div class="container-principal">
        <div class="sidebar">
            <div class="container-sidebar">

                <div class="container-logo">
                    <img width="auto" height="80" src="./assets/imgs/logo-mooca.png" alt="">
                </div>

                <div class="sidebar-options">
                    <div class="opt" id="opt-highlight">
                        <div class="icon-opt">
                            <img src="./assets/imgs/icons8-casa-30.png" alt="">
                        </div>
                        <a href="">Home </a>
                    </div>
                    <div class="opt">
                        <div class="icon-opt">
                            <img src="./assets/imgs/icons8-saco-de-dinheiro-30.png" alt="">
                        </div>
                        <a href="">Financeiro </a>
                    </div>
                    <div class="opt">
                        <div class="icon-opt">
                            <img src="./assets/imgs/icons8-bem-estar-50.png" alt="">
                        </div>
                        <a href="">Doações </a>
                    </div>
                    <div class="opt">
                        <div class="icon-opt">
                            <img src="./assets/imgs/icons8-calendário-30.png" alt="">
                        </div>
                        <a href="">Calendário </a>
                    </div>
                </div>

                <div class="logoff">
                    <img src="./assets/imgs/icons8-sair-30 (1).png" alt="">
                    <p>Sair</p>
                </div>

            </div>
        </div>

        <div class="content">
            <div class="navbar">
                <div class="container-navbar">
                    <p>Visão Geral</p>
                    <div class="user">
                        <img width="auto" height="35" src="./assets/imgs/icons8-usuário-30.png" alt="">
                        <p id="nameUser">Admin</p>
                    </div>
                </div>
            </div>

            <div class="kpis">
                <div class="label-kpi">
                    <p class="label">Entrada</p>
                    <div class="kpi">
                        <div class="container-kpi">
                            <div class="elipse">
                                <img src="./assets/imgs/icons8-flecha-48.png" alt="">
                            </div>
                            <p id="number" class="danger"> R$ 1.234,00</p>
                        </div>

                    </div>
                </div>

                <div class="label-kpi">
                    <p class="label">Saída</p>
                    <div class="kpi">
                        <div class="container-kpi">
                            <div class="elipse">
                                <img src="./assets/imgs/icons8-flecha-48 (1).png" alt="">
                            </div>
                            <p id="number" class="success"> R$ 1.234,00</p>
                        </div>

                    </div>
                </div>

                <div class="label-kpi">
                    <p class="label">Resultado</p>
                    <div class="kpi">
                        <div class="container-kpi">
                            <div class="elipse">
                                <img src="./assets/imgs/icons8-saco-de-dinheiro-30.png" alt="">
                            </div>
                            <p id="number" class="warning"> R$ 1.234,00</p>
                        </div>

                    </div>
                </div>

            </div>

            <div class="container-graficos">
                <div class="container-grafico">
                    <p class="label">Relação de doações Requeridas e Cumpridas</p>
                    <div class="grafico">
                        <div style="width: 100%; margin: auto;">
                            <canvas id="stackedBarChart"></canvas>
                        </div>
                    </div>
                </div>

                <div class="container-acoes">
                    <p class="label">Ações Pendentes</p>
                    <div class="main-box">

                        <div class="inner-box">
                            <div class="container-inner-box">
                                <div class="elipse">
                                    <img src="assets/imgs/icons8-voluntariado-30.png" alt="">
                                </div>
                                <p>Cestas básicas para XPTO</p>
                            </div>
                        </div>

                        <div class="inner-box">
                            <div class="container-inner-box">
                                <div class="elipse">
                                    <img src="assets/imgs/icons8-voluntariado-30.png" alt="">
                                </div>
                                <p>Medicamentos para SFG</p>
                            </div>
                        </div>

                        <div class="inner-box">
                            <div class="container-inner-box">
                                <div class="elipse">
                                    <img src="assets/imgs/icons8-voluntariado-30.png" alt="">
                                </div>
                                <p>Ação Roupas Infantis </p>
                            </div>
                        </div>

                        <div class="inner-box">
                            <div class="container-inner-box">
                                <div class="elipse">
                                    <img src="assets/imgs/icons8-voluntariado-30.png" alt="">
                                </div>
                                <p>Brinquedos para AACD</p>
                            </div>
                        </div>

                        <div class="inner-box">
                            <div class="container-inner-box">
                                <div class="elipse">
                                    <img src="assets/imgs/icons8-voluntariado-30.png" alt="">
                                </div>
                                <p>Cestas básicas para XPTO</p>
                            </div>
                        </div>

                        <div class="inner-box">
                            <div class="container-inner-box">
                                <div class="elipse">
                                    <img src="assets/imgs/icons8-voluntariado-30.png" alt="">
                                </div>
                                <p>Cestas básicas para XPTO</p>
                            </div>
                        </div>

                        <div class="inner-box">
                            <div class="container-inner-box">
                                <div class="elipse">
                                    <img src="assets/imgs/icons8-voluntariado-30.png" alt="">
                                </div>
                                <p>Cestas básicas para XPTO</p>
                            </div>
                        </div>

                        <div class="inner-box">
                            <div class="container-inner-box">
                                <div class="elipse">
                                    <img src="./assets/imgs/icons8-flecha-48.png" alt="">
                                </div>
                                <p>Cestas básicas para XPTO</p>
                            </div>
                        </div>

                        <div class="inner-box">
                            <div class="container-inner-box">
                                <div class="elipse">
                                    <img src="./assets/imgs/icons8-flecha-48.png" alt="">
                                </div>
                                <p>Cestas básicas para XPTO</p>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- Modal -->
    <div id="myModal" class="modal">
        <div class="modal-content">
            <span class="close"> X</span>
            <h2>Ação #010203</h2>
            <i>Cestas básicas para XPTO</i>
            <h3>Data prevista para acontecer: </h3> Terça-feira, 12/12/2000
            <h3>Descrição: </h3>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Eveniet, nostrum? Voluptatem, eum impedit inventore ex fugiat ratione quasi vitae voluptas optio veniam odit qui ducimus deserunt placeat nobis ea exercitationem?Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptates ea incidunt unde optio voluptatibus culpa impedit, perferendis qui soluta error dignissimos quae eum fuga minima, officia eos magnam, numquam possimus! Lorem, ipsum dolor sit amet consectetur adipisicing elit. 
            
        </div>
    </div>

    <div class="acessibility">
        <img src="./assets/imgs/icons8-acessibilidade-40.png" alt="" />
        <div class="options">
            <p>Aumentar Fonte</p>
            <p>Diminuir Fonte</p>
            <p>Alto-contraste</p>
        </div>
    </div>

    <div vw class="enabled">
        <div vw-access-button class="active"></div>
        <div vw-plugin-wrapper>
            <div class="vw-plugin-top-wrapper"></div>
        </div>
    </div>
</body>

<!-- inserção do VLibras - leitor e tradutor para acessiblidade :) -->
<script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
<script>
    new window.VLibras.Widget("https://vlibras.gov.br/app");
</script>
<script src="js/login.js"></script>

</html>

<script>
    const data = {
        labels: ['T1', 'T2', 'T3', 'T4'],
        datasets: [
            {
                label: 'Cestas - Requeridas',
                data: [50, 70, 80, 90],
                backgroundColor: 'rgba(255, 99, 132, 0.5)',
                stack: 'Cestas'
            },
            {
                label: 'Cestas - Cumpridas',
                data: [45, 60, 75, 85],
                backgroundColor: 'rgba(255, 99, 132, 1)',
                stack: 'Cestas'
            },
            {
                label: 'Vestuário - Requeridas',
                data: [30, 40, 50, 60],
                backgroundColor: 'rgba(54, 162, 235, 0.5)',
                stack: 'Vestuário'
            },
            {
                label: 'Vestuário - Cumpridas',
                data: [25, 35, 45, 55],
                backgroundColor: 'rgba(54, 162, 235, 1)',
                stack: 'Vestuário'
            },
            {
                label: 'Saúde e Bem-estar - Requeridas',
                data: [20, 30, 40, 50],
                backgroundColor: 'rgba(75, 192, 192, 0.5)',
                stack: 'Saúde e Bem-estar'
            },
            {
                label: 'Saúde e Bem-estar - Cumpridas',
                data: [15, 25, 35, 45],
                backgroundColor: 'rgba(75, 192, 192, 1)',
                stack: 'Saúde e Bem-estar'
            },
            {
                label: 'Outros - Requeridas',
                data: [10, 20, 30, 40],
                backgroundColor: 'rgba(153, 102, 255, 0.5)',
                stack: 'Outros'
            },
            {
                label: 'Outros - Cumpridas',
                data: [8, 12, 28, 38],
                backgroundColor: 'rgba(153, 102, 255, 1)',
                stack: 'Outros'
            }
        ]
    };

    // Configuração do gráfico
    const config = {
        type: 'bar',
        data: data,
        options: {
            plugins: {
                title: {
                    display: true,
                    text: 'Quantidade de Doações por Trimestre'
                },
                tooltip: {
                    mode: 'index',
                    intersect: true
                },
                legend: {
                    display: false
                },
                responsive: true
            },
            scales: {
                xAxes: [{
                    stacked: false
                }],
                yAxes: [{
                    stacked: true
                }],
                x: {
                    stacked: true,
                    categoryPercentage: 1.0,
                    barPercentage: 0.9 // Ajuste o espaçamento entre as barras

                },
                y: {
                    stacked: true,
                    title: {
                        display: true,
                        text: 'Quantidade de Doações'

                    }
                }
            }
        }
    };

    // renderizando o gráfico
    const stackedBarChart = new Chart(
        document.getElementById('stackedBarChart'),
        config
    );

    // pega o modal
    var modal = document.getElementById("myModal");

    // pega o botão que abre o modal
    var btns = document.querySelectorAll(".inner-box");

    // pega o elemento <span> que fecha o modal
    var span = document.getElementsByClassName("close")[0];

    // quando o usuário clicar em qualquer .inner-box abre o modal 
    btns.forEach(function (btn) {
        btn.onclick = function () {
            modal.style.display = "block";
        }
    });

    // quando o usuário clicar em <span> (x), fecha o modal
    span.onclick = function () {
        modal.style.display = "none";
    }

    // quando o usuário clicar em qualquer lugar fora do modal, fecha o modal
    window.onclick = function (event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }

    /* função para abrir/fechar menu de acessibilidade */
    document.querySelector('.acessibility').addEventListener('click', function () {
        var optionsMenu = this.querySelector('.options');
        if (optionsMenu.style.display === 'flex') {
            optionsMenu.style.display = 'none';
        } else {
            optionsMenu.style.display = 'flex';
        }
    });

    /* adicionando a acessibilidade de alto contraste */
    function altoContraste(){
        document.body.classList.toggle('high-contrast');
    };
</script>
</script>